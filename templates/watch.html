{% extends 'base.html' %}

{% block title %}Watch {{ anime.title }} - Episode {{ anime.episode }}{% endblock %}

{% block content %}
<div class="video-player-container">
    <div class="video-player">
        <h2>{{ anime.title }} - Episode {{ anime.episode }}</h2>
        <video controls autoplay width="100%">
            <source src="{{ anime.video_url }}" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>
    
    <div class="episode-navigation">
        {% if anime.episode > 1 %}
        <a href="{{ url_for('watch', anime_id=anime.id, episode=anime.episode-1) }}" class="nav-button prev">Previous Episode</a>
        {% endif %}
        <a href="{{ url_for('anime_detail', anime_id=anime.id) }}" class="nav-button back">Back to Anime</a>
        <a href="{{ url_for('watch', anime_id=anime.id, episode=anime.episode+1) }}" class="nav-button next">Next Episode</a>
    </div>
</div>

<style>
.video-player-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

.video-player {
    background: #1a1a1a;
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 20px;
}

.video-player h2 {
    margin-top: 0;
    color: white;
    padding-bottom: 10px;
    border-bottom: 1px solid #333;
}

.episode-navigation {
    display: flex;
    justify-content: space-between;
    margin-top: 20px;
}

.nav-button {
    padding: 10px 20px;
    background: #333;
    color: white;
    text-decoration: none;
    border-radius: 4px;
    transition: background 0.2s;
}

.nav-button:hover {
    background: #444;
}

.prev {
    background: #2196F3;
}

.next {
    background: #4CAF50;
}

.back {
    background: #9E9E9E;
}
</style>
{% endblock %}